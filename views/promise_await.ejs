<%- include('parts/html_head') %> 



<%- include('parts/html_script') %>
<script>
  $(function(){
  
//   let TryPromise = ()=>{                    //建立一個函式 包裝Promise
//   return new Promise((resolve,reject) =>{
//       let x = parseInt(Math.random() * 2); //隨機成功或失敗 
//       if(x){
//         setTimeout(function(){
//            resolve('Promise成功 '+Math.random());   //如果成功 將會把resolve
//        },100+Math.random()*1000) 
//       }
//       else{
//           reject('Promise失敗！'+Math.random());
//       }
       
//     });
//    }
  let runPromise = (someone, timer, success = true) => {
  console.log(`${someone} 開始跑開始`);
  return new Promise((resolve, reject) => {
    // 傳入 resolve 與 reject，表示資料成功與失敗
    if (success) {
      setTimeout(function () {
        // 3 秒時間後，透過 resolve 來表示完成
        resolve(`${someone} 跑 ${timer / 1000} 秒時間(fulfilled)`);
      }, timer);
    } else {
      // 回傳失敗
      reject(`${someone} 跌倒失敗(rejected)`)
     }
    });
  }

 async function race(x,y){ 
             let mingRun = await runPromise(x, 2000)
                 console.log('跑完了:', mingRun); 
             let auntieRun = await runPromise(y, 2500);
                 console.log('跑完了:', auntieRun);            
            };
  race('X','Y')  

  
   
  });

  
</script>
<%- include('parts/html_foot') %>  
